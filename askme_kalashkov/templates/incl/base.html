{% load static %}

<!doctype html>
<html lang="en" class="h-100">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.88.1">
  {% block title %}
  {% endblock title %}

  <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/sticky-footer-navbar/">



  <!-- Bootstrap core CSS -->
  <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet">
  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>


  <link href="{% static "css/my.css" %}" rel="stylesheet">
</head>

<body class="d-flex flex-column h-100">

  <header>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="{% url "index" %}">AskMe</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <form class="d-flex">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">Search</button>
          </form>
        </div>
        <form action="{% url "ask" %}">
          <button class="btn btn-outline-success" type="submit">ASK!</button>
        </form>
        {% if request.user.is_authenticated %}
        <div class="user-info">
          <img class="user-avatar" src="{{ request.user.profile.avatar.url }}" alt="">
        </div>
        <a href="{% url "profile" %}?id={{ request.user.id }}" class="user-info navbar-user-text">
          {{ request.user.username }}
        </a>
        <a href="{% url "edit" %}" class="user-info navbar-settings-text">
          Settings
        </a>
        <a href="{% url "logout" %}?next={{ next }}&id={{ id }}" class="user-info navbar-login-text">
          Log out
        </a>
        {% else %}
        <a href="{% url "login" %}?next={{ next }}&id={{ id }}" class="user-info navbar-login-text">
          Log in
        </a>
        {% endif %}
      </div>
    </nav>
  </header>

  <!-- Begin page content -->
  <main class="flex-shrink-0">
    <div class="container">
      <div class="row main-page">
        {% block content %}
        {% endblock content %}
        <div class="col-3">
          <h2>Popular Tags</h2>
          <div class="row">
            <h5>
              <a href="{% url "tag" %}?id=2" class="link-primary">
                Tag_1
              </a>
              &nbsp;
              <a href="{% url "tag" %}?id=3" class="link-success">
                Tag_2
              </a>
              &nbsp;
              <a href="{% url "tag" %}?id=4" class="link-danger">
                Tag_3
              </a>
              &nbsp;
            </h5>
            <h5>
              &nbsp;&nbsp;
              <a href="{% url "tag" %}?id=1" class="link-dark">
                Tag_0
              </a>
              &nbsp;
              <a href="{% url "tag" %}?id=11" class="link-info">
                Tag_10
              </a>
            </h5>
            <h5>
              <a href="{% url "tag" %}?id=5" class="link-warning">
                Tag_4
              </a>
              &nbsp;
              <a href="{% url "tag" %}?id=6" class="link-primary">
                Tag_5
              </a>
              &nbsp;&nbsp;
              <a href="{% url "tag" %}?id=7" class="link-danger">
                Tag_6
              </a>
            </h5>
            <h5>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <a href="{% url "tag" %}?id=12" class="link-success">
                Tag_11
              </a>
              &nbsp;
              <a href="{% url "tag" %}?id=13" class="link-dark">
                Tag_12
              </a>
            </h5>
            <h5>
              &nbsp;&nbsp;&nbsp;
              <a href="{% url "tag" %}?id=8" class="link-primary">
                Tag_7
              </a>
              &nbsp;
              <a href="{% url "tag" %}?id=9" class="link-success">
                Tag_8
              </a>
              &nbsp;
              <a href="{% url "tag" %}?id=10" class="link-danger">
                Tag_9
              </a>
              &nbsp;
            </h5>
            <h5>
              <a href="{% url "tag" %}?id=14" class="link-info">
                Tag_13
              </a>
              &nbsp;
              <a href="{% url "tag" %}?id=15" class="link-warning">
                Tag_14
              </a>
            </h5>
          </div>
          <h2>Best Users</h2>
          <div class="row">
            <h5>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <a href="{% url "profile" %}?id=2" class="link-danger">
                user_1
              </a>
              &nbsp;
              <a href="{% url "profile" %}?id=3" class="link-primary">
                user_2
              </a>
              &nbsp;
              <a href="{% url "profile" %}?id=4" class="link-success">
                user_3
              </a>
              &nbsp;
            </h5>
            <h5>
              <a href="{% url "profile" %}?id=6" class="link-dark">
                user_5
              </a>
              &nbsp;
              <a href="{% url "profile" %}?id=11" class="link-info">
                user_10
              </a>
              &nbsp;
              <a href="{% url "profile" %}?id=18" class="link-warning">
                user_17
              </a>
            </h5>
            <h5>
              &nbsp;
              <a href="{% url "profile" %}?id=21" class="link-success">
                user_20
              </a>
              &nbsp;
              <a href="{% url "profile" %}?id=14" class="link-primary">
                user_13
              </a>
              &nbsp;
              <a href="{% url "profile" %}?id=10" class="link-danger">
                user_9
              </a>
            </h5>
            <h5>
              <a href="{% url "profile" %}?id=82" class="link-warning">
                user_81
              </a>
              &nbsp;
              <a href="{% url "profile" %}?id=76" class="link-dark">
                user_75
              </a>
            </h5>
          </div>
        </div>
      </div>
    </div>
  </main>


  <!-- <script src="/docs/5.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script> -->
  <script src="../../static/js/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
  <script>
    function getCookie(name) {
      var cookieValue = null;
      if (document.cookie && document.cookie !== '') {
          var cookies = document.cookie.split(';');
          for (var i = 0; i < cookies.length; i++) {
              var cookie = jQuery.trim(cookies[i]);
              // Does this cookie string begin with the name we want?
              if (cookie.substring(0, name.length + 1) === (name + '=')) {
                  cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                  break;
              }
          }
      }
      return cookieValue;
    }
    var csrftoken = getCookie('csrftoken');
  </script>
  <script>
    $(".question-vote-up, .question-vote-down").on("click", function(ev){
      var $this = $(this) 
      $.ajax({
        method: "POST",
        url: "question_vote/",
        data: {'id': $this.data('id'), 'up': $this.data('up')},
        dataType: "json",
        headers: {'X-CSRFToken': csrftoken}
      }).done(function(data) {
        $('#question-rating-'+$this.data('id')).text('Total: ' + data.carma);
      });
      })
  </script>
  <script>
    $(".answer-vote-up, .answer-vote-down").on("click", function(ev){
      var $this = $(this) 
      $.ajax({
        method: "POST",
        url: "/answer_vote/",
        data: {'id': $this.data('id'), 'up': $this.data('up')},
        dataType: "json",
        headers: {'X-CSRFToken': csrftoken}
      }).done(function(data) {
        $('#answer-rating-'+$this.data('id')).text('Total: ' + data.carma);
      });
      })
  </script>
  <script>
    $(".answer-correct").click(function(ev){
      var $this = $(this)
      console.log('Tralala')
      $.ajax({
        method: "POST",
        url: "/answer_correct/",
        data: {'id': $this.data('id')},
        dataType: "json",
        headers: {'X-CSRFToken': csrftoken}
      }).done(function(data) {
        $('#question-title-'+data.question_id).text(data.title);
        console.log('Done');
      });
      })
  </script>

</body>

</html>